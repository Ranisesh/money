<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My Money Manager</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: Arial, sans-serif; padding: 1rem; background: #f5f5f5; }
    h1 { text-align: center; }
    .section { margin-bottom: 1rem; }
    select, input, button { width: 100%; padding: 0.5rem; margin-top: 0.5rem; }
    table { width: 100%; border-collapse: collapse; margin-top: 1rem; }
    th, td { border: 1px solid #ccc; padding: 0.5rem; text-align: left; }
    th { background-color: #eee; }
    .total { font-weight: bold; margin-top: 1rem; text-align: center; }
    @media (min-width: 600px) {
      select, input, button { width: auto; display: inline-block; margin-right: 0.5rem; }
    }
  </style>
</head>
<body>

<h1>My Money Manager ðŸ’°</h1>

<div class="section">
  <label for="type">Select Type:</label>
  <select id="type" onchange="updateCategories()">
    <option value="">-- Select --</option>
    <option value="income">Income</option>
    <option value="expense">Expense</option>
  </select>

  <label for="category">Select Category:</label>
  <select id="category">
    <option value="">-- Select Category --</option>
  </select>

  <input type="number" id="amount" placeholder="Enter Amount">
  <button onclick="addTransaction()">Add</button>
</div>

<div class="section">
  <h3>Transaction History</h3>
  <table id="historyTable">
    <thead>
      <tr><th>Date</th><th>Type</th><th>Category</th><th>Amount</th></tr>
    </thead>
    <tbody></tbody>
  </table>
</div>

<div class="section total">
  <div id="incomeTotal">Total Income: â‚¹0</div>
  <div id="expenseTotal">Total Expense: â‚¹0</div>
  <div id="balance">Balance: â‚¹0</div>
</div>

<script>
const incomeCategories = [
  "Salary", "Bonus", "Extra Income", "Payment Received"
];
const expenseCategories = [
  "Groceries", "Hotel", "Clothing", "Fees", "Electricity", "Maintenance", 
  "Drinks", "Cigarettes and Pan", "Petrol/Diesel", "Auto/Bus", "EMI", "Loans Paid"
];

let transactions = [];

function updateCategories() {
  const type = document.getElementById('type').value;
  const categorySelect = document.getElementById('category');
  categorySelect.innerHTML = '<option value="">-- Select Category --</option>';
  let categories = [];

  if (type === 'income') categories = incomeCategories;
  else if (type === 'expense') categories = expenseCategories;

  categories.forEach(cat => {
    const option = document.createElement('option');
    option.value = cat;
    option.textContent = cat;
    categorySelect.appendChild(option);
  });
}

function addTransaction() {
  const type = document.getElementById('type').value;
  const category = document.getElementById('category').value;
  const amount = parseFloat(document.getElementById('amount').value);

  if (!type || !category || isNaN(amount)) {
    alert("Please fill all fields!");
    return;
  }

  transactions.push({
    date: new Date().toLocaleDateString(),
    type, category, amount
  });

  document.getElementById('amount').value = '';
  document.getElementById('type').value = '';
  updateCategories();
  updateTable();
}

function updateTable() {
  const tbody = document.querySelector("#historyTable tbody");
  tbody.innerHTML = '';

  let incomeTotal = 0;
  let expenseTotal = 0;

  transactions.forEach(tx => {
    const row = document.createElement('tr');
    row.innerHTML = `<td>${tx.date}</td><td>${tx.type}</td><td>${tx.category}</td><td>â‚¹${tx.amount.toFixed(2)}</td>`;
    tbody.appendChild(row);

    if (tx.type === 'income') incomeTotal += tx.amount;
    else if (tx.type === 'expense') expenseTotal += tx.amount;
  });

  document.getElementById('incomeTotal').innerText = `Total Income: â‚¹${incomeTotal.toFixed(2)}`;
  document.getElementById('expenseTotal').innerText = `Total Expense: â‚¹${expenseTotal.toFixed(2)}`;
  document.getElementById('balance').innerText = `Balance: â‚¹${(incomeTotal - expenseTotal).toFixed(2)}`;
}
</script>

</body>
</html>
